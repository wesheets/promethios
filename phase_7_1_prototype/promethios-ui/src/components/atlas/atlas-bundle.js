!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AtlasCompanion",[],t):"object"==typeof exports?exports.AtlasCompanion=t():e.AtlasCompanion=t()}(this,(()=>(()=>{"use strict";var e,t,n={160:(e,t,n)=>{n.d(t,{d:()=>i});class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}constructor(){this.eventHandlers=new Map}subscribe(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,[]);const n=this.eventHandlers.get(e);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}publish(e,t={}){(this.eventHandlers.get(e)||[]).forEach((n=>{try{n(t)}catch(t){console.error(`Error in ATLAS event handler for ${e}:`,t)}}))}hasSubscribers(e){return(this.eventHandlers.get(e)||[]).length>0}getSubscriberCount(e){return(this.eventHandlers.get(e)||[]).length}clearSubscribers(e){this.eventHandlers.delete(e)}clearAllSubscribers(){this.eventHandlers.clear()}}},407:(e,t,n)=>{n.d(t,{E:()=>i});class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}constructor(){this.globalConfig={debug:!1,defaultTheme:"auto",enableTagAlong:!0,enableTrustShield:!0},this.componentConfigs=new Map,this.loadFromDataAttributes()}loadFromDataAttributes(){document.querySelectorAll("script[data-atlas-config]").forEach((e=>{try{const t=e.getAttribute("data-atlas-config");if(t){const e=JSON.parse(t);this.setGlobalConfig(e)}}catch(e){console.warn("Failed to parse ATLAS config from script tag:",e)}}))}setGlobalConfig(e){this.globalConfig=Object.assign(Object.assign({},this.globalConfig),e)}getGlobalConfig(){return Object.assign({},this.globalConfig)}setComponentConfig(e,t){this.componentConfigs.set(e,t)}getComponentConfig(e,t){const n=this.componentConfigs.get(e);return n?Object.assign(Object.assign({},t),n):Object.assign({},t)}isDebugEnabled(){return this.globalConfig.debug}getBaseUrl(){return this.globalConfig.baseUrl||""}getVerificationEndpoint(){return this.globalConfig.verificationEndpoint||`${this.getBaseUrl()}/verify`}getDefaultTheme(){return this.globalConfig.defaultTheme}isTagAlongEnabled(){return this.globalConfig.enableTagAlong}isTrustShieldEnabled(){return this.globalConfig.enableTrustShield}}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,s),o.exports}s.m=n,s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".atlas-bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="AtlasCompanion:",s.l=(n,i,o,r)=>{if(e[n])e[n].push(i);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var g=l[d];if(g.getAttribute("src")==n||g.getAttribute("data-webpack")==t+o){a=g;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(u);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={792:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,s)=>i=e[t]=[n,s]));n.push(i[2]=o);var r=s.p+s.u(t),a=new Error;s.l(r,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,a,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);c&&c(s)}for(t&&t(n);l<r.length;l++)o=r[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=this.webpackChunkAtlasCompanion=this.webpackChunkAtlasCompanion||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o={};s.r(o),s.d(o,{AtlasConfig:()=>a.E,AtlasCore:()=>d,AtlasElement:()=>g,AtlasEvents:()=>c.d,AtlasRegistry:()=>r,AtlasTheme:()=>l,initializeAtlas:()=>u,verifyAgent:()=>f});class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}constructor(){this.registeredComponents=new Map,this.initialized=!1}initialize(){this.initialized||(this.registeredComponents.forEach(((e,t)=>{customElements.get(t)||customElements.define(t,e.constructor,e.options)})),this.initialized=!0)}register(e){this.registeredComponents.set(e.name,e),this.initialized&&!customElements.get(e.name)&&customElements.define(e.name,e.constructor,e.options)}isRegistered(e){return this.registeredComponents.has(e)}getDefinition(e){return this.registeredComponents.get(e)}getRegisteredNames(){return Array.from(this.registeredComponents.keys())}}var a=s(407),c=s(160);class l{static getInstance(){return l.instance||(l.instance=new l),l.instance}constructor(){this.currentTheme="light",this.themeOptions={light:{colors:{primary:"#3a86ff",secondary:"#8338ec",accent:"#ff006e",background:"#ffffff",surface:"#f8f9fa",text:"#212529",textSecondary:"#6c757d",border:"#dee2e6",error:"#dc3545",warning:"#ffc107",success:"#28a745",info:"#17a2b8"},sizing:{borderRadius:"4px",spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px"},fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"24px"}},fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',animationDuration:"0.2s"},dark:{colors:{primary:"#3a86ff",secondary:"#8338ec",accent:"#ff006e",background:"#212529",surface:"#343a40",text:"#f8f9fa",textSecondary:"#adb5bd",border:"#495057",error:"#f77",warning:"#ffda6a",success:"#75b798",info:"#6edff6"},sizing:{borderRadius:"4px",spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px"},fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"24px"}},fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',animationDuration:"0.2s"}},this.detectColorScheme(),this.listenForColorSchemeChanges()}detectColorScheme(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentTheme=e?"dark":"light"}listenForColorSchemeChanges(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{e.matches?this.setTheme("dark"):this.setTheme("light")}))}setTheme(e){this.currentTheme=e}getTheme(){return this.currentTheme}getThemeOptions(){return this.themeOptions[this.currentTheme]}setThemeOptions(e,t){this.themeOptions[e]=Object.assign(Object.assign({},this.themeOptions[e]),t)}generateCssVariables(){const e=this.getThemeOptions();return`\n      :host {\n        --atlas-color-primary: ${e.colors.primary};\n        --atlas-color-secondary: ${e.colors.secondary};\n        --atlas-color-accent: ${e.colors.accent};\n        --atlas-color-background: ${e.colors.background};\n        --atlas-color-surface: ${e.colors.surface};\n        --atlas-color-text: ${e.colors.text};\n        --atlas-color-text-secondary: ${e.colors.textSecondary};\n        --atlas-color-border: ${e.colors.border};\n        --atlas-color-error: ${e.colors.error};\n        --atlas-color-warning: ${e.colors.warning};\n        --atlas-color-success: ${e.colors.success};\n        --atlas-color-info: ${e.colors.info};\n        \n        --atlas-border-radius: ${e.sizing.borderRadius};\n        \n        --atlas-spacing-xs: ${e.sizing.spacing.xs};\n        --atlas-spacing-sm: ${e.sizing.spacing.sm};\n        --atlas-spacing-md: ${e.sizing.spacing.md};\n        --atlas-spacing-lg: ${e.sizing.spacing.lg};\n        --atlas-spacing-xl: ${e.sizing.spacing.xl};\n        \n        --atlas-font-size-xs: ${e.sizing.fontSize.xs};\n        --atlas-font-size-sm: ${e.sizing.fontSize.sm};\n        --atlas-font-size-md: ${e.sizing.fontSize.md};\n        --atlas-font-size-lg: ${e.sizing.fontSize.lg};\n        --atlas-font-size-xl: ${e.sizing.fontSize.xl};\n        \n        --atlas-font-family: ${e.fontFamily};\n        --atlas-animation-duration: ${e.animationDuration};\n      }\n    `}}class d{static getInstance(){return d.instance||(d.instance=new d),d.instance}constructor(){this.initialized=!1,this.registry=r.getInstance(),this.config=a.E.getInstance(),this.events=c.d.getInstance(),this.theme=l.getInstance()}initialize(){if(this.initialized)return;this.registry.initialize();const e=this.config.getDefaultTheme();"auto"!==e&&this.theme.setTheme(e),this.events.publish("atlas:initialized",{timestamp:Date.now(),config:this.config.getGlobalConfig()}),this.initialized=!0}getRegistry(){return this.registry}getConfig(){return this.config}getEvents(){return this.events}getTheme(){return this.theme}isInitialized(){return this.initialized}}class g extends HTMLElement{constructor(){super(),this.initialized=!1,this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.initialized||(this.initialize(),this.initialized=!0),this.onConnect()}disconnectedCallback(){this.onDisconnect()}attributeChangedCallback(e,t,n){this.onAttributeChange(e,t,n)}onConnect(){}onDisconnect(){}onAttributeChange(e,t,n){}addStyles(e){const t=document.createElement("style");t.textContent=e,this.shadow.appendChild(t)}setHtml(e){this.shadow.innerHTML=e}appendHtml(e){const t=document.createElement("template");t.innerHTML=e.trim(),this.shadow.appendChild(t.content.cloneNode(!0))}getElement(e){return this.shadow.querySelector(e)}getElements(e){return this.shadow.querySelectorAll(e)}dispatchCustomEvent(e,t={},n=!0){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:n,composed:!0}))}}var h=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function u(e){const t=d.getInstance();e&&t.getConfig().setGlobalConfig(e),t.initialize()}function f(e){return h(this,void 0,void 0,(function*(){const t=(yield s.e(307).then(s.bind(s,307))).VerificationService.getInstance(),n=yield t.verifyAgent(e);return{verified:t.isAgentVerified(e),status:n,timestamp:Date.now(),details:t.getVerificationDetails(e)}}))}return"undefined"!=typeof window&&window.addEventListener("DOMContentLoaded",(()=>{d.getInstance().initialize()})),"undefined"!=typeof window&&(window.AtlasCompanion={initialize:u,verify:f,core:d}),o})()));